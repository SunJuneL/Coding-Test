# [[개선](BOJ-1094) 막대기(Swift)](https://www.acmicpc.net/problem/1094)

### 기본 전제<br/>
- 막대 길이 `X`cm가 주어진다.<br/>
    - `X`는 64보다 작거나 같은 자연수이다.<br/>
- 64cm 막대 1개가 최초의 막대이며, 아래와 같은 과정을 거쳐 `X`cm막대를 만든다.<br/>
    - 갖고 있는 막대 길이를 모두 더한다. 이때, 합이 `X`보다 크다면, 아래 과정을 반복한다.<br/>
        1. 가지고 있는 막대 중 길이가 가장 짧은 것을 절반으로 자른다.<br/>
        2. 만약, 자른 막대의 절반 중 하나를 버리고 남아있는 막대의 길이의 합이 `X`보다 크거나 같다면, 위에서 자른 막대의 절반 중 하나를 버린다.<br/>
    - 위 과정을 거쳐, 구한 막대들을 모두 풀로 붙여 `X`cm로 만든다.<br/>
- 위 과정을 거쳐 `X`cm 막대를 만든다면 몇 개의 막대를 풀로 붙여야 하는지 구해 출력한다.<br/>
<br/>

### 개선 이유<br/>
- 비트마스크(Bitmask)를 사용하는 방법이 굉장히 깔끔하기 때문에 개선하게 되었다.<br/>

### 주의 사항<br/>
- 없음.<br/>
<br/>

### 전략<br/>
- [기본 전제]에서 적여있는 방식으로 여러 막대를 구하다 보면, 아래와 같이 생각할 수 있다.<br/>
    - 64부터 절반으로 나눈 값들의 조합으로 `X`를 만든다.<br/>
    - 즉, 64, 32, 16, 8, 4, 2, 1을 조합해서 `X`를 만든다.<br/>
        - 이 부분은 이진법을 통해 숫자를 표현하는 것과 완전히 동일하다.<br/>
- 따라서, `X`에서 값이 1인 비트들의 개수를 구하면 문제를 해결할 수 있다.<br/>  
<br/>

---
### 본문<br/>

1. `X`를 입력 받고, 1인 비트의 개수를 저장할 변수를 선언한다.<br/>
```Swift
// 막대 길이 X를 입력 받음
let X = Int8(readLine()!)!

// 값이 1인 비트의 개수를 저장할 변수 선언
var count = 0
```
- `X`: 입력받은 원하는 막대의 길이를 저장한 정수형 상수이다.<br/>
    - `X`의 비트는 최대 7비트를 사용하므로, `Int8`이 가장 적절하다.<br/>
- `count`: `X`를 이진수로 바라봤을 떄, 값이 1인 비트의 개수를 저장할 정수형 변수이다.<br/>
<br/>

2. 비트마스크를 활용해 결과를 구한다.<br/>
```Swift
// 비트마스크를 활용해, X에서 비트가 1인 비트의 개수를 구함
for i in 0 ..< 8 {
    if X & (1 << i) != 0 {
        count += 1
    }
}
```
- Int8은 비트가 총 8개 있으므로, 8번 확인한다.<br/>
- 0b00000001, 0b00000010, 0b00000100등으로 만들어, X와 비교하기 위해 시프트 연산 `1 << i`를 사용한다.<br/>
- `1 << i`와 `X`를 AND 연산하여 숫자를 구하고, 그 수가 0이 아니라면, 뒤에서 `i`번째에 1이 있다는 의미이므로 `count`를 1 증가시킨다.<br/>  
<br/>

---
### 문제를 맨 처음에 틀렸던 이유<br/>
- 없음.<br/>
<br/>

---
### 느낀점<br/>
- 다른 문제에서는 가끔 비트마스크를 사용해보려는 노력을 하는데, 이 문제는 생각도 하지 못했다.<br/>
- 64, 32 등의 수를 절반으로 꾸준히 나눈다는 걸 보게되면 비트마스크를 생각해보는 것이 좋을거 같다.<br/>
<br/>

---
### 새로 알게된 내용<br/>
- 없음.<br/>
<br/>

--- 
### 푸는데 참고한 참고 자료<br/>
- [ssaboo92님의 풀이](https://www.acmicpc.net/source/82902055).<br/>
<br/>

---
### 시험한 테스트 케이스
<br/>

테스트 케이스 1<br/>
- 기본적으로 백준에 써 있는 테스트케이스이다.<br/>
    - 입력
        ```Swift
        23
        ```
    - 출력
        ```Swift
        4
        ```
<br/>

테스트 케이스 2<br/>
- 기본적으로 백준에 써 있는 테스트케이스이다.<br/>
    - 입력
        ```Swift
        32
        ```
    - 출력
        ```Swift
        1
        ```
<br/>

테스트 케이스 3<br/>
- 기본적으로 백준에 써 있는 테스트케이스이다.<br/>
    - 입력
        ```Swift
        64
        ```
    - 출력
        ```Swift
        1
        ```
<br/>

테스트 케이스 4<br/>
- 기본적으로 백준에 써 있는 테스트케이스이다.<br/>
    - 입력
        ```Swift
        48
        ```
    - 출력
        ```Swift
        2
        ```
<br/>
